using System;
using System.Collections.Generic;
using Microsoft.Data.SqlClient;
using System.Diagnostics;
using System.IO;
using System.Linq;
using System.Net;
using System.Threading;
using System.Threading.Tasks;
using System.Windows.Forms;
using Newtonsoft.Json;

namespace ProxyChecker
{
    // https://www.proxy-list.download/api/v1/get?type=https
    // https://api.proxyscrape.com/v2/?request=getproxies&protocol=http&timeout=10000&country=all&ssl=all&anonymity=all
    // sites: https://www.proxy-list.download/HTTP, https://free-proxy-list.net/

    // https://www.proxy-list.download/api/v2/get?l=en&t=http

    public partial class Main : Form
    {
        private bool isClosing;
        public Main()
        {
            InitializeComponent();
            System.Windows.Forms.Control.CheckForIllegalCrossThreadCalls = false;
        }

        private void StartCheckProxies(IEnumerable<string> proxies)
        {
            var uniqueProxies = proxies.Distinct().ToArray();

            label_TotalProxy.Text = int.Parse(label_TotalProxy.Text) + uniqueProxies.Length.ToString();

            var tasks =
                from proxy in uniqueProxies.Where(a => !string.IsNullOrEmpty(a))
                select Task.Factory.StartNew(() => Checker(proxy));
            Task.WaitAll(tasks.ToArray());
        }

        private void SetProxiesFromProxyScrape()
        {
            var url = "https://api.proxyscrape.com/v2/?request=getproxies&protocol=http&timeout=10000&country=all&ssl=all&anonymity=all";
            string[] proxies;
            using (var request = new WebClient())
            {
                var response = request.DownloadString(url).ToString();
                proxies = response.Split(new[] { Environment.NewLine, "\n" }, StringSplitOptions.None);
            }
            StartCheckProxies(proxies);
        }

        private void SetProxiesFromProxyListDownload()
        {
            var url = "https://www.proxy-list.download/api/v2/get?l=en&t=http";
            string[] proxies;
            using (var request = new WebClient())
            {
                var response = request.DownloadString(url).ToString();
                var oo = JsonConvert.DeserializeObject<cRoot>(response);
                proxies = oo.LISTA.Select(a => $"{a.IP}:{a.PORT}").ToArray();
            }
            StartCheckProxies(proxies);
        }

        private void SetProxiesFromFreeProxyList()
        {
            var url = "https://free-proxy-list.net/";
            string[] proxies;
            using (var request = new WebClient())
            {
                var response = request.DownloadString(url).ToString();
                var i1 = response.IndexOf("<textarea class=\"form-control\"", StringComparison.InvariantCultureIgnoreCase);
                var i2 = response.IndexOf("</textarea>", i1 + 30, StringComparison.InvariantCultureIgnoreCase);
                proxies = response.Substring(i1 + 30, i2 - i1 - 30)
                    .Split(new[] { "\n" }, StringSplitOptions.RemoveEmptyEntries)
                    .Where(a => !string.IsNullOrEmpty(a) && char.IsDigit(a[0])).ToArray();
            }
            StartCheckProxies(proxies);
        }

        private void SetProxiesFromVPN()
        {
            /*var proxies = new List<string>();
            for (var k = 80; k < 60000; k++)
            {
                proxies.Add($"151.115.56.95:{k}");
            }
            StartCheckProxies(proxies.ToArray());*/
            // var aa1 = new string[] { "38.54.71.67:80", "172.67.231.3:80", "110.232.249.172:51327", "103.35.111.101:4145", "169.255.136.8:60279", "43.250.81.155:34432", "103.77.227.161:4153", "103.214.156.17:5678", "149.20.253.250:12551", "115.160.160.38:3128", "138.36.150.16:1080", "38.140.231.10:8841", "212.129.42.252:60111", "124.220.170.33:2080", "178.128.21.246:56108", "185.169.181.13:4145", "185.140.232.98:4145", "104.17.9.114:80", "185.20.26.41:43051", "31.206.38.50:37630", "188.25.121.203:8081", "181.114.232.57:31337", "39.108.139.217:11188", "212.120.186.39:52914", "146.59.243.35:27445", "221.225.152.167:24166", "120.46.137.97:8080", "203.23.104.167:80", "177.21.206.184:4145", "174.139.46.100:58841", "43.153.172.98:443", "189.126.14.226:1080", "31.43.122.180:51372", "155.133.83.253:58351", "134.209.23.68:22773", "103.117.108.53:4153", "158.181.138.19:8081", "156.239.144.87:10001", "201.20.79.18:5678", "177.38.5.137:4153", "110.77.184.98:4145", "185.81.106.52:3629", "181.188.188.131:5678", "103.141.148.62:5678", "185.169.181.18:34984", "110.34.166.186:4153", "177.131.29.214:4153", "106.110.215.121:2829", "116.58.254.88:4145", "47.112.224.70:8060", "119.13.125.238:1080", "103.220.42.180:58456", "95.217.132.133:3127", "119.5.236.99:24388", "46.23.53.164:3629", "46.98.206.15:5678", "223.155.121.75:3128", "75.119.206.53:15745", "185.203.220.16:1080", "180.241.249.131:8080", "41.174.152.29:12391", "197.234.13.55:4145", "93.171.224.59:4153", "203.22.223.47:80", "104.21.64.208:80", "110.78.148.87:4145", "203.30.190.172:80", "178.254.168.12:4782", "36.255.104.17:1080", "101.109.251.42:4145", "217.115.115.148:56792", "142.4.8.1:14883", "206.189.9.30:42331", "182.75.220.186:40637", "109.238.12.156:53938", "110.77.232.172:4145", "192.3.127.220:45776", "118.173.233.39:4898", "202.53.172.76:5678", "177.184.67.21:4145", "110.78.149.110:4145", "106.14.207.142:8081", "46.227.37.149:1088", "110.11.37.83:1080", "91.147.235.99:4145", "177.38.5.134:4153", "185.220.226.235:808", "124.41.240.140:59964", "103.85.103.129:5678", "104.18.65.115:2105", "203.223.171.185:4145", "50.63.26.13:53887", "45.126.169.185:4145", "182.53.129.70:5678", "178.62.226.96:26546", "8.219.152.222:443", "45.226.0.2:4153", "45.126.169.233:4145", "136.243.148.97:25928", "103.12.246.45:4145", "183.62.58.35:1080" };
            var aa1 = new string[] { "13.234.24.116:3128", "138.68.240.218:3128", "169.57.157.148:25", "51.210.183.2:8080", "128.199.202.122:8080", "142.93.2.226:8000", "139.99.244.154:80", "80.48.119.28:8080", "79.110.196.145:8081" };
            var aa2 = new string[]
            {
                "49.76.17.159:8089", "50.62.183.223:80", "201.71.2.127:999", "159.65.77.168:8585", "188.166.56.246:80",
                "189.240.60.163:9090", "154.65.39.8:80", "67.43.227.227:25261", "103.10.61.186:8080",
                "45.95.203.85:4444", "185.255.123.34:80", "45.77.182.170:12009", "154.208.10.126:80",
                "212.110.188.207:34405", "201.91.248.67:20183", "196.61.74.41:8080", "154.16.146.47:80",
                "181.168.240.248:8080", "120.48.75.218:80", "122.114.232.137:808", "41.222.8.254:8082",
                "141.195.112.22:8118", "38.49.129.154:999", "158.69.53.98:9300", "134.209.105.209:3128",
                "91.189.177.189:3128", "77.77.210.90:21056", "103.46.11.74:8080", "135.181.154.225:80",
                "160.0.198.27:9999", "142.93.14.238:8888", "74.48.7.43:80", "58.246.58.150:9002", "41.209.10.148:8080",
                "119.47.90.45:8080", "61.133.66.69:9002", "187.94.220.85:8080", "114.231.45.154:8089",
                "116.203.28.43:80", "38.54.30.6:80", "5.135.83.214:80", "67.43.228.253:16523", "67.43.227.228:9685",
                "116.63.129.202:6000", "147.12.46.62:3128", "114.231.45.176:8089", "197.98.201.97:11020",
                "41.57.139.185:6060", "36.93.130.218:66", "65.109.163.154:80", "41.204.63.118:80", "195.35.32.249:80",
                "20.204.122.49:443", "38.54.71.67:80", "182.253.168.68:8080", "85.117.60.131:8080", "38.7.197.4:999",
                "154.16.146.45:80", "103.129.3.246:83", "156.54.212.55:3128", "170.239.207.226:999",
                "130.41.109.158:8080", "147.78.1.54:80", "111.225.153.245:8089", "51.158.169.52:29976"
            };
            var aa3 = new string[]
            {
                "51.89.14.70:80", "72.49.49.11:31034", "104.200.135.46:4145", "140.227.204.70:3128",
                "49.48.90.219:8080", "171.103.58.122:8080", "94.23.220.136:63665", "94.23.220.136:19547",
                "20.204.190.254:3129", "212.83.143.211:55957", "37.204.209.198:8080", "80.87.178.175:8080",
                "119.18.149.34:8080", "103.174.175.99:8085", "23.81.127.186:8118", "45.150.25.132:8080",
                "109.75.47.204:4153", "154.16.146.47:80", "104.20.235.179:80", "142.93.2.226:8000", "37.18.73.60:5566",
                "103.127.220.70:8181", "212.110.188.204:34411", "222.255.238.159:80", "88.198.199.53:80",
                "92.86.143.156:8080", "110.77.171.70:8080", "81.145.54.212:80", "219.73.88.167:80", "103.161.31.249:83",
                "109.238.12.156:50539", "104.165.169.101:3128", "172.67.69.9:80", "63.239.220.109:8080",
                "20.205.61.143:8123", "188.132.221.133:8080", "172.64.86.217:80", "202.165.39.102:8080",
                "200.111.249.195:999", "50.174.214.221:80", "154.72.90.74:8081", "79.8.171.83:3128",
                "72.210.208.101:4145", "132.148.154.97:45846", "132.148.245.247:26295", "185.26.32.93:5678",
                "202.166.192.84:5678", "123.205.24.244:80", "179.125.172.210:4153", "217.150.58.185:1080",
                "45.12.31.3:80", "112.250.211.161:38801", "8.213.129.20:8080", "103.92.235.60:39148",
                "104.129.198.54:10605", "8.218.253.59:15673", "156.239.55.107:3128", "104.164.183.24:3128",
                "46.245.77.53:3128", "94.23.220.136:48812", "85.233.145.70:1080", "195.177.217.131:42910",
                "103.112.45.46:8080", "51.15.205.223:16379", "103.105.76.214:9090", "128.199.165.63:12809",
                "34.154.161.152:80", "200.60.4.238:999", "5.44.42.115:58386", "185.198.2.113:11223", "104.16.195.74:80",
                "187.85.82.222:55676", "104.238.111.107:45883", "50.174.214.222:80", "45.178.133.77:999",
                "38.54.16.97:80", "200.32.64.126:999", "186.219.96.193:52017", "8.213.129.15:443", "196.0.39.50:5678",
                "209.182.192.90:57026", "3.25.234.175:51908", "185.236.202.205:3128", "92.118.170.236:3128",
                "103.124.137.158:1080", "104.25.108.120:80", "115.167.124.75:8080", "103.110.84.199:7497",
                "117.160.250.132:8899", "3.10.93.50:1080", "80.191.106.129:8081", "115.127.83.142:1234",
                "174.136.57.169:30453", "200.125.185.226:999", "50.174.214.218:80", "85.239.56.55:8085",
                "171.244.140.160:38693", "50.62.58.158:34018", "45.173.231.15:999", "103.49.202.250:80",
                "200.24.130.138:999", "139.5.73.71:8080", "212.50.19.150:4153", "103.215.24.162:5678",
                "194.48.151.217:5678", "104.19.124.112:80", "158.51.121.31:8118", "94.131.107.45:3128",
                "217.26.67.57:3180", "38.183.135.189:999", "154.236.177.100:1976", "91.92.78.207:4145",
                "104.37.135.145:4145", "154.73.87.241:8080", "221.193.228.7:9002", "37.44.238.2:53471",
                "64.124.145.1:1080", "41.87.70.158:8080", "46.101.19.131:80", "51.15.230.100:16379",
                "38.123.220.86:8080", "50.170.90.26:80", "154.12.253.232:15598", "23.108.42.86:8118",
                "156.239.50.87:3128", "3.255.168.34:56498", "203.202.252.149:1200", "103.97.203.104:8080",
                "119.18.158.130:4153", "161.97.163.52:13823", "104.247.163.246:1280", "103.47.93.248:1080",
                "103.47.92.33:1080", "50.207.199.87:80", "34.135.166.24:80", "103.235.66.198:5678",
                "212.33.228.127:1080", "51.161.33.206:61724", "183.214.203.219:8060", "197.98.201.97:10015",
                "139.59.35.1:42675", "152.231.106.191:999", "204.44.192.104:55070", "150.136.111.210:3128",
                "18.133.16.21:80", "125.227.225.157:3389", "133.18.234.13:80", "216.176.187.99:39837",
                "20.204.212.45:3129", "13.208.183.220:3128", "195.93.200.140:80", "52.196.1.182:80",
                "170.244.16.45:4145", "8.209.255.13:3128", "203.160.61.104:4145", "93.123.16.188:3128",
                "50.170.90.25:80", "135.148.10.161:28561", "50.63.13.3:50887", "154.236.179.229:1981",
                "212.92.204.54:8080", "146.59.70.29:37665", "45.181.122.201:999", "68.71.249.153:48606",
                "92.205.110.47:16865", "92.204.136.149:35544", "1.1.220.100:8080", "103.156.201.170:83",
                "139.162.238.184:29870", "104.25.58.39:80", "211.128.96.206:80", "116.203.27.109:80",
                "170.210.121.190:8080", "103.134.214.131:1648", "79.124.77.148:3128", "51.15.211.81:16379",
                "104.22.14.48:80", "185.200.38.199:8080", "41.207.187.178:80", "50.63.12.33:23977", "212.193.56.27:80",
                "159.89.194.121:56063", "185.23.118.97:57445", "67.213.212.57:11643", "113.53.91.10:5678",
                "1.0.205.87:8080", "95.167.29.50:8080", "155.50.208.37:3128", "128.199.116.34:4444",
                "117.4.155.254:5678", "85.113.55.123:8080", "154.12.178.107:29985", "104.16.109.207:80",
                "39.105.27.30:3128", "144.91.107.252:18940", "43.156.22.28:3128", "114.231.41.182:8089",
                "41.65.224.91:1976", "61.29.96.146:80", "121.13.229.213:61401", "190.108.12.117:8080",
                "195.169.35.214:3128", "38.156.73.54:8080", "103.207.1.82:8080", "172.241.192.126:8118",
                "8.222.152.158:55555", "208.109.13.93:57694", "170.106.193.128:30001", "132.148.245.247:31406",
                "15.185.153.126:80", "185.49.30.5:8081", "212.110.188.211:34409", "104.21.6.88:80",
                "163.172.158.70:16379", "173.249.33.122:5640", "116.206.56.142:8080", "102.0.3.222:8080",
                "135.148.10.161:42881", "1.2.209.194:4145", "107.181.161.81:4145", "157.230.226.230:1202",
                "209.126.6.159:80", "45.159.248.66:80", "137.184.197.190:80", "154.16.146.43:80",
                "162.144.103.99:61509", "124.105.55.176:30906", "222.190.130.62:8888", "195.25.241.120:3128",
                "103.141.148.62:5678", "85.196.179.34:8080", "186.159.6.163:1994", "37.235.53.208:18888",
                "51.15.241.5:16379", "218.153.133.202:8080", "209.126.104.38:44412", "51.222.84.118:21777",
                "60.190.68.154:7302", "162.214.225.223:43263", "51.89.173.40:23313", "149.18.31.167:8085",
                "86.111.144.10:4145", "180.183.97.16:8080", "91.151.90.239:80", "123.200.6.58:5678", "93.123.22.151:80",
                "38.156.74.88:8080", "111.225.153.121:8089", "45.11.95.165:5042", "192.111.134.10:4145",
                "36.94.110.49:5678", "50.222.245.45:80", "185.82.218.52:1080", "72.10.160.170:14305",
                "172.67.209.12:80", "72.37.217.3:4145", "37.52.13.164:5678", "103.174.102.127:80", "45.65.137.218:999",
                "103.139.25.121:8080", "104.19.106.122:80", "165.16.27.36:1981", "104.27.12.22:80",
                "51.89.173.40:40179", "156.239.144.149:10001", "167.249.29.214:999", "45.95.203.165:4444",
                "50.222.245.41:80", "36.92.193.189:80", "60.199.29.41:8111", "45.251.231.213:59362",
                "46.209.115.130:2022", "103.94.57.122:80", "172.67.105.234:80", "177.19.167.242:80", "179.1.133.33:999",
                "82.223.121.72:64871", "89.237.32.177:37647", "197.98.201.97:443", "45.238.57.1:3629",
                "143.198.226.25:80", "91.149.240.212:3128", "172.67.242.194:80", "103.47.93.213:1080",
                "152.32.186.145:1080", "207.180.250.238:80", "116.203.239.33:80", "94.23.220.136:59161",
                "8.218.198.49:8888", "194.140.198.23:80", "192.169.244.80:41568", "94.131.14.66:1080",
                "1.20.200.154:8081", "88.51.214.182:80", "172.67.3.98:80", "45.173.6.102:8080", "69.75.122.146:39593",
                "162.241.6.97:48372", "177.200.2.96:5678", "181.129.183.19:53281", "51.89.173.40:51612",
                "72.195.34.35:27360", "46.10.229.243:7777", "104.16.109.213:80", "51.161.131.84:36510",
                "136.228.160.250:8080", "161.97.131.23:8899", "54.36.108.149:4651", "175.6.140.135:38801",
                "51.79.87.144:54395", "172.67.182.169:80", "38.131.32.78:5678", "95.38.95.55:9050",
                "95.111.227.164:18415", "165.227.196.37:53413", "212.192.31.37:3128", "142.54.232.6:4145",
                "38.54.116.9:3128", "72.167.222.102:9493", "114.231.41.211:8089", "13.38.0.229:55577",
                "51.89.173.40:44719", "104.16.104.12:80", "103.181.177.41:5678", "219.243.212.118:8443",
                "176.105.220.74:3129", "112.30.155.83:12792", "50.239.72.16:80", "198.23.143.24:6969",
                "3.39.235.191:57581", "201.182.251.142:999", "85.228.43.192:4153", "114.130.175.18:8080",
                "194.124.36.75:8080", "106.14.255.124:80", "94.232.11.178:58028", "159.203.70.121:3128",
                "82.204.150.19:3129", "137.184.200.42:8000", "103.81.117.225:4153", "191.96.100.33:3155",
                "51.210.127.15:80", "183.89.9.20:4153", "194.4.50.60:12334", "104.165.127.79:3128", "201.71.3.42:999",
                "182.52.229.165:8080", "203.189.150.48:8080", "45.238.220.1:8181", "106.75.154.243:999",
                "159.223.166.21:21898", "93.40.5.232:5678", "45.225.207.163:999", "50.175.212.74:80",
                "114.231.41.224:8089", "169.239.236.201:10801", "172.67.182.126:80", "132.148.155.180:45578",
                "104.21.194.19:80", "185.100.47.105:443", "67.205.177.122:32551", "157.100.6.202:999",
                "135.148.10.161:5607", "188.68.52.220:9050", "155.138.238.14:808", "142.4.123.41:80",
                "50.231.110.26:80", "168.228.36.22:27234", "209.145.60.213:80", "185.65.253.161:8081",
                "194.124.36.28:8080", "88.255.102.123:8080", "74.48.7.43:80", "203.150.172.151:8080", "37.140.36.61:80",
                "51.15.223.24:16379", "104.19.217.219:80", "2.180.1.94:8080", "109.167.83.209:5678",
                "118.42.113.37:443", "101.255.166.242:8080", "114.231.41.96:8089", "149.210.235.107:8118",
                "50.169.37.50:80", "172.67.182.102:80", "162.214.227.68:38004", "134.236.117.98:4145",
                "197.98.201.97:11020", "142.44.241.192:7497", "104.18.161.122:80", "207.180.198.241:50861",
                "108.170.12.14:80", "113.125.82.11:3128", "50.223.38.6:80", "62.85.224.217:5678", "222.111.18.67:80",
                "111.8.155.54:7777", "1.179.147.5:52210", "200.58.182.89:4153", "103.15.223.251:3128",
                "38.49.150.212:80", "185.162.229.127:80", "72.195.34.60:27391", "187.94.220.85:8080",
                "50.168.72.118:80", "43.129.195.235:8081", "103.180.198.130:8181", "8.213.128.6:9090",
                "118.174.209.56:4145", "38.69.152.180:33333", "98.162.25.4:31654", "12.156.45.155:3128",
                "192.169.226.96:32074", "79.143.177.29:21972", "103.76.253.66:3129", "54.248.238.110:80",
                "49.228.131.169:5000", "172.241.192.246:8118", "162.159.242.45:80", "115.223.11.212:50000",
                "201.71.3.61:999", "166.62.38.100:56191", "1.20.95.95:5678", "45.230.171.41:999", "170.64.222.81:8000",
                "207.180.198.241:35119", "103.122.66.240:1080", "113.252.40.144:80", "20.193.154.130:8888",
                "111.53.178.249:7302", "104.24.136.68:80", "50.200.12.86:80", "50.222.245.42:80", "20.197.19.78:80",
                "185.47.252.96:80", "38.54.95.19:3128", "159.69.214.139:3128", "104.25.231.184:80", "50.168.210.234:80",
                "45.230.49.2:999", "201.89.89.34:8080", "154.79.248.156:5678", "103.12.246.41:4145",
                "104.238.111.107:26305", "72.210.221.223:4145", "188.164.196.30:53276", "183.88.36.32:8080",
                "104.18.81.76:80", "201.144.20.231:5678", "212.23.201.71:80", "103.153.154.6:80", "65.1.244.232:80",
                "104.16.105.146:80", "43.133.49.93:3128", "50.204.219.228:80", "103.98.148.180:8088",
                "52.79.107.158:8080", "119.23.148.173:80", "139.180.168.182:80", "46.28.72.75:4153",
                "51.158.76.35:16379", "92.255.7.162:8080", "124.77.80.70:9000", "206.189.130.107:8080",
                "165.227.196.37:63551", "50.172.75.124:80", "184.72.36.89:80", "213.250.198.66:4145",
                "150.230.207.167:80", "5.22.154.50:32127", "167.172.109.12:40825", "13.229.47.109:80",
                "94.23.252.168:9180", "138.201.21.227:18611", "186.190.225.152:999", "202.162.105.202:80",
                "1.20.227.66:4145", "32.140.234.250:83", "98.162.25.29:31679", "172.241.192.46:8118",
                "108.170.12.11:80", "207.244.229.34:7908", "189.204.254.186:999", "104.25.230.252:80",
                "49.0.32.154:10801", "50.63.12.33:44849", "196.1.95.124:80", "188.132.222.168:10820",
                "201.91.82.155:3128", "72.195.114.184:4145", "178.62.231.165:8118", "103.35.189.217:1080",
                "172.67.181.126:80", "154.16.146.45:80", "187.252.154.90:4153", "45.188.164.48:1994",
                "186.10.102.218:5678", "50.172.106.214:80", "87.247.251.240:3128", "92.118.132.125:8080",
                "179.1.192.26:999", "5.2.76.163:17000", "3.37.125.76:3128", "43.156.93.13:3128",
                "130.255.162.199:50446", "45.81.232.17:12873", "66.45.246.194:8888", "162.214.90.49:55577",
                "190.13.82.28:1080", "172.67.182.48:80", "146.19.106.42:12334", "185.162.231.226:80",
                "200.32.51.179:8080", "211.144.20.13:8080", "23.105.78.230:8118", "20.219.177.38:3129",
                "202.44.224.76:4153", "104.17.215.222:80", "45.90.219.39:4444", "194.110.150.56:8085",
                "110.77.184.98:4145", "117.69.236.58:8089", "20.44.188.17:3129", "216.154.201.132:54321",
                "83.126.54.155:8080", "185.217.136.67:1337", "68.185.57.66:80", "103.170.22.52:8089",
                "182.23.107.211:3128", "162.214.75.237:63312", "111.20.217.178:9091", "139.180.140.254:1080",
                "177.87.250.66:999", "38.56.70.75:999", "103.142.241.165:8085", "185.132.179.72:3128",
                "45.178.133.75:999", "103.174.108.42:3128", "178.212.48.80:8080", "103.59.203.249:4145",
                "50.222.245.44:80", "27.72.63.61:8080", "50.63.13.3:41840", "50.228.141.102:80", "38.158.202.162:999",
                "156.239.52.254:3128", "109.111.212.78:8080", "45.182.176.38:9947", "185.162.229.215:80",
                "50.239.72.19:80", "14.207.206.223:8080", "190.114.245.122:999", "110.78.168.161:4145",
                "122.116.29.68:4145", "84.207.252.37:8080", "162.0.220.234:1631", "194.12.124.188:3629",
                "154.236.179.235:1976", "51.161.33.206:40132", "35.79.120.242:3128", "130.162.213.175:3128",
                "20.219.180.105:3129", "181.5.219.244:7071", "85.214.94.28:3128", "37.194.232.54:1080",
                "38.156.73.151:8080", "39.165.0.137:9002", "167.172.109.12:39452", "141.136.42.164:80",
                "201.222.50.218:80", "13.247.67.27:8081", "154.236.179.226:1981", "72.10.164.178:14757",
                "54.233.119.172:3128", "198.105.101.129:5758", "20.204.212.76:3129", "50.174.214.220:80",
                "50.169.23.170:80", "139.59.90.148:14066", "114.141.61.2:4145", "156.239.52.230:3128",
                "104.16.241.204:80", "167.86.69.142:42214", "160.248.80.91:22", "135.148.10.161:46594",
                "171.221.174.230:10800", "82.223.121.72:19985", "41.65.251.85:1981", "67.205.162.103:54475",
                "13.38.34.226:55455", "104.16.106.65:80", "173.213.71.6:80", "103.42.28.27:45787", "144.21.52.220:3128",
                "104.164.183.44:3128", "182.253.168.68:8080", "128.199.221.91:33383", "95.216.201.74:1080",
                "154.16.146.44:80", "91.205.131.110:53339", "173.249.33.122:22082", "163.172.147.89:16379",
                "116.199.168.1:4145", "117.160.250.163:8828", "62.112.10.26:8080", "167.86.69.142:31000",
                "203.128.80.178:8099", "147.124.212.31:1164", "200.116.198.222:9812", "50.174.145.12:80",
                "67.43.227.228:3495", "91.189.177.186:3128", "162.214.225.223:52354", "64.137.93.62:6519",
                "172.241.192.120:8118", "104.37.175.202:49322", "104.165.169.216:3128", "92.247.12.139:9510",
                "186.96.102.209:999", "156.239.55.173:3128", "72.206.181.103:4145", "212.69.128.72:5678",
                "162.241.158.204:50845", "185.89.156.130:5678", "38.54.79.150:80", "58.234.116.197:8193",
                "161.97.173.78:52876", "36.93.130.218:66", "43.255.113.232:84", "161.97.147.193:7518",
                "114.129.2.82:8081", "103.158.27.88:8080", "200.192.236.242:1080", "192.169.205.131:9115",
                "104.20.22.93:80", "41.242.116.150:50003", "104.248.158.78:25218", "154.16.146.41:80",
                "78.188.81.57:8080", "5.253.18.188:80", "117.160.250.131:8899", "47.91.149.178:8443",
                "218.6.120.111:7777", "185.247.18.20:8888", "177.234.244.172:32213", "109.122.195.16:80",
                "154.72.73.226:4145", "172.67.250.212:80", "96.36.50.99:39593", "103.57.134.250:45958",
                "89.43.10.141:80", "109.73.189.242:5678", "213.79.104.228:8080", "51.250.72.117:3128",
                "67.43.227.227:25261", "192.99.37.195:18020", "181.236.247.8:8899", "13.208.43.137:52479",
                "50.218.57.64:80", "103.206.208.135:55443", "177.93.44.53:999", "50.174.145.13:80",
                "89.249.65.191:3128", "103.134.165.38:8080", "110.77.232.134:4145", "104.252.131.212:3128",
                "51.158.79.76:16379", "104.16.106.234:80", "172.67.181.37:80", "162.214.102.121:28524",
                "50.239.72.17:80", "187.95.80.137:3629", "50.231.172.74:80", "36.91.45.12:51672", "107.180.90.42:50339",
                "213.33.2.28:80", "8.213.137.155:98", "45.117.179.179:28482", "109.108.40.238:8090",
                "92.204.136.149:11151", "187.188.131.169:1080", "103.163.51.254:80", "72.10.160.173:3299",
                "112.99.7.108:8060", "3.10.93.50:3128", "185.54.178.193:1080", "132.148.245.169:38117",
                "45.70.237.146:4145", "179.107.50.105:4153", "172.67.35.15:80", "181.233.90.70:999",
                "139.162.238.184:39652", "104.20.34.100:80", "61.133.66.69:9002", "103.99.27.162:8080",
                "103.15.140.121:44759", "190.111.238.127:49017", "8.213.137.155:1111", "162.214.103.84:45812",
                "98.162.25.23:4145", "45.224.164.128:5678", "92.205.60.110:39079", "192.163.202.88:60419",
                "50.168.210.226:80", "50.223.239.183:80", "172.67.200.220:80", "103.146.185.141:1111",
                "184.178.172.18:15280", "92.204.134.38:1555", "161.49.176.173:1337", "103.4.118.130:5678",
                "93.117.72.27:55770", "123.205.24.244:8193", "45.95.203.129:4444", "114.231.82.195:8089",
                "172.67.187.242:80", "62.109.0.18:24201", "38.103.213.226:1080", "45.86.228.95:3128",
                "72.10.160.170:32953", "27.147.131.122:8090", "109.94.182.128:4145", "38.91.106.252:60385",
                "193.233.210.131:8085", "179.1.110.88:5678", "171.22.108.188:3128", "124.106.150.231:8282",
                "49.156.41.179:21", "67.210.146.50:11080", "103.234.27.153:1080", "119.237.43.106:80",
                "36.7.252.165:3256", "193.239.86.249:3128", "156.239.51.56:3128", "50.207.199.84:80",
                "139.99.244.154:80", "95.217.137.46:8080", "51.75.126.150:34737", "104.18.234.218:80",
                "162.12.217.70:3629", "115.241.146.122:3129", "174.138.176.76:48621", "36.226.245.61:80",
                "147.124.212.31:2952", "156.239.50.199:3128", "187.251.102.50:999", "198.8.84.3:4145",
                "38.54.101.254:9000", "115.96.208.124:8080", "213.143.113.82:80", "102.68.128.212:8080",
                "170.238.239.72:8080", "80.59.233.178:60008", "38.242.240.167:30699", "163.172.129.251:16379",
                "88.87.72.134:4145", "184.168.121.153:51622", "190.97.238.91:999", "45.81.232.17:33549",
                "45.191.46.210:999", "138.197.92.110:2312", "72.10.164.178:29287", "50.174.7.162:80",
                "101.33.200.32:8000", "72.10.160.173:8943", "188.234.147.54:8019", "8.213.129.20:5678",
                "182.253.159.153:8080", "190.153.121.2:4145", "165.154.236.214:80", "114.232.109.178:8089",
                "87.126.65.11:1388", "141.98.215.29:80", "51.158.96.221:16379", "203.176.141.166:4145",
                "159.223.71.71:57206", "181.120.28.228:80", "37.27.32.80:80", "171.228.173.196:5329",
                "50.168.72.119:80", "51.158.96.66:16379", "43.153.73.157:443", "130.162.243.68:3128",
                "176.120.32.135:5678", "45.11.95.165:5045", "103.79.152.204:5678", "164.92.86.113:54295",
                "31.24.44.92:50687", "182.160.103.124:9990", "154.236.176.28:1981", "79.110.119.181:8080",
                "138.121.161.121:8290", "45.178.133.76:999", "67.205.177.122:35656", "192.252.208.67:14287",
                "103.30.30.73:8080", "104.252.131.220:3128", "202.5.54.70:4145", "104.16.25.216:80",
                "78.47.103.89:8080", "165.227.196.37:63637", "46.188.25.233:8080", "172.67.182.128:80",
                "149.50.238.14:8080", "109.238.12.156:47537", "152.32.238.63:38080", "162.214.227.68:33571",
                "190.94.212.249:999", "37.120.140.158:3128", "186.156.161.235:3128", "31.172.133.253:4153",
                "194.186.127.60:80", "203.223.171.185:4145", "72.10.160.170:5101", "20.219.235.172:3129",
                "104.165.127.80:3128", "143.110.145.44:7700", "162.241.45.22:49847", "50.218.57.66:80",
                "162.214.103.84:13553", "190.120.250.73:999", "94.23.220.136:16596", "177.131.29.214:4153",
                "121.13.252.58:61401", "12.186.205.123:80", "218.145.131.182:443", "51.75.126.150:51713",
                "172.67.162.127:80", "159.65.242.254:7497", "103.5.232.148:8080", "45.240.182.120:1976",
                "103.137.91.250:8080", "119.18.152.30:8080", "103.125.138.206:8080", "41.159.154.43:3128",
                "50.171.68.130:80", "51.68.138.113:3333", "193.239.86.248:3128", "178.207.8.20:3128",
                "174.136.57.169:33761", "181.212.45.226:8080", "186.47.23.6:5678", "173.249.33.122:37536",
                "51.89.173.40:30199", "177.184.67.73:4145", "45.190.187.123:999", "50.217.226.41:80",
                "104.16.143.127:80", "165.227.196.37:57247", "92.207.253.226:4145", "162.214.225.223:38007",
                "103.146.197.43:4996", "123.126.158.50:80", "23.108.42.249:8118", "13.81.217.201:80",
                "187.121.156.134:8085", "196.61.74.41:8080", "94.153.163.226:81", "193.233.230.78:8085",
                "20.205.115.87:8080", "185.162.230.201:80", "13.38.115.167:53437", "104.27.26.29:80",
                "168.232.60.62:5678", "178.62.7.98:41537", "103.172.42.121:8080", "185.189.112.133:3128",
                "34.93.157.87:39984", "51.158.124.167:16379", "191.252.113.27:3128", "217.52.247.76:1976",
                "177.128.212.190:8080", "2.57.131.19:4145", "50.223.239.191:80", "31.43.179.160:80",
                "45.116.114.29:5678", "190.2.144.46:18013", "103.115.255.225:36331", "8.213.129.20:8001",
                "35.185.196.38:3128", "68.183.143.134:80", "41.164.6.245:80", "81.12.119.171:8080",
                "45.117.179.179:54568", "103.184.56.133:8080", "165.225.72.155:11164", "200.95.184.62:999",
                "119.196.168.183:80", "80.63.84.58:8081", "103.151.41.7:80", "167.99.174.59:80", "199.187.210.54:4145",
                "173.212.209.49:58827", "51.158.122.48:16379", "162.159.242.104:80", "94.131.203.7:8080",
                "190.58.248.86:80", "83.219.145.108:3128", "37.122.83.175:8081", "5.180.19.140:1080",
                "67.205.177.122:29807", "104.16.105.182:80", "51.15.234.222:16379", "185.43.189.182:3629",
                "124.133.20.234:7302", "95.47.119.122:8080", "195.177.217.131:59982", "67.43.228.253:9739",
                "50.174.214.206:80", "36.91.15.241:8080", "117.160.250.163:9990", "67.43.236.20:27033",
                "104.165.127.26:3128", "117.74.125.14:1133", "103.209.204.141:5678", "103.78.201.242:3128",
                "162.159.242.8:80", "47.254.90.125:8888", "5.39.69.35:11396", "113.109.25.160:44844",
                "206.220.175.2:4145", "51.89.173.40:54570", "178.115.243.26:8080", "146.59.18.246:36885",
                "41.203.83.66:8080", "45.117.179.179:35942", "38.54.59.154:80", "191.253.106.140:8080",
                "159.224.232.194:8888", "14.225.255.209:3128", "46.36.70.104:46964", "192.99.207.129:24223",
                "178.79.165.164:44660", "91.203.242.66:222", "203.77.237.62:4153", "176.65.240.15:80",
                "169.57.157.148:80", "31.7.70.215:3128", "198.12.253.239:56575", "31.163.192.152:4153",
                "49.4.48.128:8888", "115.76.193.174:30182", "141.147.9.254:80", "8.213.129.15:9002", "103.123.25.65:80",
                "13.209.156.241:80", "92.205.60.110:13499", "144.91.106.93:3128", "104.248.158.78:22639",
                "169.255.189.105:4145", "212.127.93.185:8081", "172.67.181.103:80", "50.218.57.65:80",
                "104.17.171.79:80", "111.199.70.169:1080", "137.184.102.16:18240", "178.128.82.105:33702",
                "37.53.103.4:3128", "72.167.132.66:3128", "67.43.227.226:8647", "190.2.104.201:4153",
                "46.17.63.166:4154", "116.63.129.202:6000", "104.27.66.31:80", "172.67.182.165:80", "80.95.10.208:8082",
                "167.172.159.43:63488", "184.168.121.153:20159", "45.65.229.19:4145", "45.4.144.232:4153",
                "185.236.203.208:3128", "82.204.198.28:1080", "45.81.232.17:2244", "213.136.78.200:63588",
                "50.172.218.160:80", "34.122.187.196:80", "103.156.74.154:8199", "84.17.51.235:3128",
                "50.174.214.217:80", "198.57.211.235:11096", "24.112.3.220:8080", "89.35.237.187:999",
                "51.15.210.79:16379", "202.162.213.182:8080", "103.63.26.229:1111", "103.174.214.54:5678",
                "132.148.154.97:33130", "37.186.125.202:5678", "164.163.185.199:80", "41.217.220.214:32650",
                "181.212.41.172:999", "67.213.212.58:12448", "95.158.44.63:8080", "51.75.162.236:80",
                "199.229.254.129:4145", "142.11.222.22:80", "47.91.65.23:3128", "41.33.203.234:1975", "92.42.8.5:4145",
                "125.212.209.176:9999", "38.7.199.166:8080", "104.25.234.81:80", "125.141.133.53:5566",
                "41.65.224.91:1981", "161.97.163.52:26358", "41.33.254.188:1976", "146.120.160.148:5678",
                "195.164.138.34:1080", "142.54.237.34:4145", "203.23.103.19:80", "178.215.163.218:4145",
                "198.74.51.79:8888", "38.54.101.254:3128", "171.5.13.78:4145", "218.255.187.60:80",
                "161.97.173.78:7818", "190.136.36.37:80", "194.182.178.90:3128", "213.136.78.200:43069",
                "139.99.148.90:3128", "166.0.235.197:35197", "204.44.192.80:55070", "5.39.69.35:57486",
                "103.191.155.70:8080", "199.58.184.97:4145", "191.97.16.160:999", "45.95.203.213:4444",
                "34.135.203.172:3128", "165.227.104.122:41443", "197.254.84.86:32650", "51.12.208.66:80",
                "104.238.205.68:4003", "37.156.146.163:3128", "96.70.52.227:48324", "45.5.139.241:8080",
                "202.12.80.7:84", "138.201.182.222:80", "167.86.69.142:42109", "186.96.101.75:999", "104.16.105.142:80",
                "184.168.121.153:19825", "208.109.14.49:44247", "200.125.184.46:999", "148.72.212.198:48765",
                "38.242.199.111:19655", "102.220.142.193:8080", "173.212.237.43:58810", "194.4.50.125:12334",
                "104.27.37.131:80", "195.154.43.221:39449", "91.203.165.23:5678", "185.228.137.178:3128",
                "141.95.160.178:5100", "50.168.163.180:80", "107.180.92.72:60356", "169.255.190.189:4145",
                "50.168.72.113:80", "188.164.196.31:51284", "179.43.182.73:1080", "170.81.160.124:42832",
                "103.41.250.111:8080", "15.228.238.38:443", "8.213.128.90:123", "170.81.131.7:3128",
                "154.236.189.12:1981", "183.89.41.224:8080", "185.109.184.150:62064", "41.254.53.70:1981",
                "197.156.240.66:5678", "103.234.55.173:80", "51.210.108.98:3128", "89.40.142.236:3128",
                "212.39.114.139:5678", "94.23.220.136:43751", "50.223.246.226:80", "201.159.8.126:5678",
                "51.161.131.84:20812", "177.73.248.26:55290", "146.59.70.29:33906", "163.172.169.27:16379",
                "175.139.233.76:80", "185.108.141.114:8080", "67.43.227.227:7825", "104.164.183.160:3128",
                "72.10.160.91:21749", "43.228.215.74:3128", "161.97.173.78:29423", "102.221.224.153:8080",
                "50.63.13.3:59261", "103.138.27.250:6000", "104.18.44.93:80", "45.233.169.40:9994",
                "209.126.104.38:29858", "168.205.217.37:4145", "51.89.173.40:17982", "190.242.125.186:8080",
                "45.11.95.166:6003", "185.200.37.98:8080", "187.102.238.49:999", "162.214.227.68:46743",
                "41.33.254.188:1981", "62.182.204.81:88", "31.211.142.115:8192", "172.67.14.237:80",
                "176.106.22.125:8080", "120.196.207.10:80", "184.181.217.201:4145", "50.168.210.232:80",
                "203.188.245.98:52837", "50.168.72.112:80", "72.10.164.178:19457", "146.59.70.29:13513",
                "122.114.232.137:808", "93.115.148.208:5678", "180.211.179.50:1080", "103.60.161.18:8080",
                "159.69.230.19:80", "184.170.245.148:4145", "103.133.25.10:8080", "51.15.254.129:16379",
                "3.70.208.67:56962", "41.65.236.57:1976", "103.103.89.85:8090", "58.22.95.34:1080",
                "128.199.187.210:8000", "132.148.245.169:49824", "72.10.160.173:2921", "91.148.127.49:8080",
                "70.166.167.55:57745", "36.93.6.170:8080", "45.77.182.170:12009", "67.43.227.228:9685",
                "103.152.232.53:8199", "124.41.240.140:59964", "211.93.2.190:7302", "59.126.92.130:33333",
                "68.1.210.189:4145", "45.172.176.1:59341", "140.227.228.202:10101", "104.16.81.76:80",
                "51.161.99.114:48235", "51.222.155.142:80", "185.247.18.200:8888", "132.148.16.169:41824",
                "104.236.0.129:61052", "195.177.217.131:43202", "50.218.57.67:80", "162.144.32.209:64337",
                "37.120.192.154:8080", "182.72.203.246:80", "67.201.33.10:25283", "197.98.201.97:21002",
                "195.246.54.31:8080", "147.182.195.54:26419", "177.93.36.151:999", "51.75.126.150:61502",
                "162.214.227.68:48084", "103.242.119.88:80", "45.95.203.167:4444", "166.0.235.2:50862",
                "2.59.117.122:46738", "103.10.231.189:8080", "172.67.181.147:80", "142.93.109.23:58334",
                "75.119.203.208:23456", "162.214.225.223:38004", "62.99.138.162:80", "195.189.60.103:80",
                "45.117.179.179:1932", "162.12.217.30:3629", "47.243.114.192:8180", "31.43.179.214:80",
                "67.43.227.228:2981", "167.86.69.142:34891", "132.148.245.112:38117", "103.113.71.230:1080",
                "102.134.98.222:8081", "159.89.113.155:8080", "8.213.128.90:8808", "45.58.52.5:80", "157.25.92.74:3128",
                "119.81.71.27:8123", "36.93.32.137:8080", "177.200.82.190:5678", "71.234.197.16:4600",
                "45.239.30.1:999", "203.150.166.174:8080", "82.97.215.243:80", "188.163.170.130:35578",
                "36.6.144.194:8089", "103.51.21.250:83", "34.95.231.228:42042", "37.220.83.232:3128",
                "18.195.164.53:7777", "194.163.159.93:5946", "62.179.9.19:6830", "103.231.248.98:3128",
                "80.122.170.182:4153", "212.200.39.210:8080", "43.132.184.228:8181", "201.218.144.19:999",
                "50.63.13.3:55749", "161.97.173.78:39820", "50.168.163.178:80", "8.243.162.242:999",
                "87.107.146.209:8118", "18.223.158.245:3128", "103.143.196.66:8080", "41.204.63.118:80",
                "118.99.68.222:8080", "51.89.173.40:20435", "45.230.50.3:999", "150.230.96.150:19291",
                "201.71.2.41:999", "95.140.124.173:1080", "103.131.18.194:8080", "117.54.114.101:80",
                "192.111.130.5:17002", "172.104.154.229:2403", "18.133.123.81:1994", "87.117.11.57:1080",
                "92.205.110.47:42356", "117.160.250.134:8899", "103.74.229.133:8080", "45.188.164.3:1994",
                "45.190.52.24:8080", "104.25.135.170:80", "13.234.24.116:3128", "174.126.217.110:80", "38.54.30.6:80",
                "45.228.235.25:999", "138.197.92.110:57786", "45.12.30.231:80", "154.85.125.235:6446",
                "159.223.71.71:56127", "162.214.225.223:35464", "162.33.179.3:80", "115.127.95.81:8080",
                "84.53.247.204:53281", "159.89.194.121:18259", "143.202.97.171:999", "95.31.35.210:3629",
                "188.164.193.178:11251", "104.238.111.107:3230", "8.42.68.109:39593", "46.19.141.98:9050",
                "92.154.84.215:80", "20.219.178.121:3129", "3.39.235.191:51860", "67.205.177.122:35679",
                "38.170.176.238:5633", "187.73.102.70:9292", "172.67.181.11:80", "45.81.232.17:50946",
                "212.110.188.189:34405", "93.171.220.229:8888", "174.108.200.2:8080", "104.234.1.25:80",
                "45.117.179.179:1200", "188.166.17.18:8881", "162.214.75.86:52163", "179.96.142.75:5678",
                "102.0.7.34:8080", "103.186.254.218:2016", "46.227.37.1:1088", "67.205.177.122:24777",
                "211.72.172.152:1080", "203.160.58.194:4145", "161.35.70.249:3128", "43.255.113.232:8084",
                "222.124.193.118:8080", "104.248.59.38:80", "85.31.234.252:80", "140.238.220.85:80",
                "162.214.227.68:62678", "14.162.146.186:19132", "104.164.183.212:3128", "45.89.65.217:4444",
                "128.199.221.91:28900", "50.174.7.158:80", "174.138.176.78:44079", "13.38.115.167:58806",
                "156.239.51.10:3128", "142.54.229.249:4145", "164.92.86.113:63358", "188.166.234.144:16813",
                "122.10.225.55:8000", "201.13.147.161:5678", "36.92.96.179:5678", "185.103.128.138:8080",
                "162.254.38.202:47092", "127.0.0.7:80", "104.19.247.62:80", "117.160.250.163:9999",
                "62.201.212.198:4673", "41.65.103.30:1981", "185.247.226.94:16049", "185.109.184.150:49217",
                "50.174.145.14:80", "51.38.63.124:10983", "118.69.62.229:5678", "72.10.164.178:16503",
                "181.78.11.219:999", "103.115.44.109:80", "34.125.246.223:80", "136.243.89.93:8888",
                "49.48.108.94:8080", "155.50.213.149:3128", "197.211.8.166:8080", "8.222.239.209:80",
                "98.6.197.202:16099", "159.223.166.21:45537", "50.222.245.50:80", "139.170.229.78:7080",
                "204.57.112.5:80", "161.35.229.155:61658", "34.87.103.220:80", "179.48.11.6:8085",
                "182.16.175.162:5678", "172.64.80.55:80", "221.6.139.190:9002", "172.241.137.76:8118",
                "52.172.1.186:3128", "177.184.72.22:4145", "213.6.99.106:8080", "154.12.253.232:53264",
                "118.179.151.57:5020", "45.14.174.148:80", "91.189.177.189:3128", "125.229.149.169:65110",
                "180.178.95.142:8080", "5.252.23.206:3128", "169.239.45.51:4153", "185.238.228.96:80",
                "206.189.145.23:49310", "45.231.30.254:4153", "202.154.18.78:3125", "104.248.151.220:52106",
                "50.174.216.104:80", "45.77.111.135:15082", "96.113.158.126:80", "88.99.138.21:5778",
                "51.158.105.203:16379", "177.229.210.50:8080", "208.111.40.37:80", "192.99.207.129:40132",
                "109.234.37.16:46063", "92.204.136.149:23283", "86.110.227.37:4153", "104.16.107.142:80",
                "78.28.152.113:80", "54.212.22.168:80", "178.62.14.68:5050", "50.212.190.241:3128", "103.133.25.1:8080",
                "188.132.222.34:8080", "181.94.244.22:8080", "188.190.40.44:8080", "64.137.104.193:5803",
                "102.0.0.118:80", "181.205.41.210:7654", "185.255.123.34:80", "51.255.20.138:80", "185.38.111.1:8080",
                "47.243.177.210:8088", "188.132.222.9:8080", "50.217.29.198:80", "164.92.86.113:64110",
                "106.14.207.142:8081", "51.15.211.42:16379", "206.189.184.213:35398", "67.43.228.254:2181",
                "82.163.242.10:3128", "35.209.90.107:8899", "103.215.139.32:57421", "13.38.34.226:58950",
                "188.164.196.30:51211", "132.148.244.30:37320", "132.148.16.169:27718", "82.223.121.72:63596",
                "212.110.188.195:34411", "178.128.148.69:3128", "209.14.112.4:1080", "207.178.166.187:80",
                "147.75.122.245:999", "125.229.149.168:65110", "110.38.68.38:80", "189.186.63.103:999",
                "54.191.109.158:3128", "103.79.152.203:5678", "164.163.21.14:8291", "50.218.57.68:80",
                "109.123.254.43:9927", "31.220.97.75:3128", "130.255.162.71:24055", "13.38.34.226:50183",
                "50.204.219.229:80", "103.159.194.149:8081", "67.43.227.228:8055", "51.161.56.52:80",
                "190.97.233.22:999", "35.180.188.216:80", "190.123.226.109:5678", "8.222.183.148:15673",
                "181.129.43.3:8080", "154.12.253.232:64196", "60.199.29.42:8111", "46.105.44.29:57346",
                "89.35.237.187:8080", "177.200.91.109:12312", "36.255.211.1:55438", "207.180.252.117:2222",
                "161.97.74.176:30000", "110.12.211.14:80", "104.20.75.69:80", "98.181.137.83:4145",
                "212.110.188.198:34405", "114.232.109.7:8089", "45.70.201.52:999", "103.215.72.115:5678",
                "196.204.24.254:8080", "213.33.126.130:80", "154.93.51.229:80", "185.25.116.86:31288",
                "51.79.249.186:3128", "202.131.65.110:80", "115.127.31.66:8080", "60.12.168.114:9002",
                "200.106.184.97:999", "103.43.128.123:5678", "104.20.125.124:80", "222.127.135.164:8082",
                "41.65.236.56:1981", "85.214.244.174:3128", "65.109.231.142:3128", "83.136.219.140:80",
                "72.10.164.178:10383", "154.16.146.46:80", "188.132.222.43:8080", "199.116.62.148:9999",
                "38.54.6.39:3128", "3.75.240.70:50745", "200.214.154.135:4145", "112.118.60.145:80",
                "5.178.217.227:31019", "202.5.56.139:5020", "46.146.220.247:1080", "186.201.63.83:3128",
                "115.74.246.138:8080", "104.248.151.220:63997", "67.43.236.20:15221", "5.75.200.38:80",
                "54.36.108.149:6439", "67.43.227.227:13727", "218.57.210.186:9002", "38.156.75.203:8080",
                "80.240.130.161:8888", "95.47.149.8:8080", "192.169.226.96:46191", "50.207.199.86:80",
                "5.39.69.35:41852", "201.170.42.65:3128", "50.174.145.15:80", "103.86.1.2:4145", "104.27.83.183:80",
                "190.248.145.114:8080", "94.45.74.60:8080", "67.205.177.122:27551", "54.39.50.68:47834",
                "77.77.210.90:21056", "3.96.159.76:55135", "67.205.177.122:56517", "107.173.146.53:15673",
                "46.209.54.102:8080", "190.3.72.39:3629", "102.132.201.202:80", "103.113.170.230:3128",
                "193.233.143.180:8085", "67.213.212.40:28696", "184.178.172.14:4145", "195.23.57.78:80",
                "45.188.166.52:1994", "45.225.207.183:999", "146.59.18.246:22737"
            };
            //  { "185.95.227.244:4145", "2.196.207.153:8081", "109.70.206.42:5678", "77.242.132.113:5678" };
            StartCheckProxies(aa3);
        }

        private void SetProxiesFromProxyList(string filename)
        {
            var lines = File.ReadAllLines(filename)
                .Where(a => !a.StartsWith("#") && !string.IsNullOrWhiteSpace(a));
            StartCheckProxies(lines);
        }

        [DebuggerStepThrough]
        private void Checker(string proxy)
        {
            // string testUrl = "https://google.com?a=" + cnt.ToString(); // 60K
            var testUrl = "https://www.find-ip.net";
            using (var request = new WebClient())
            {
                try
                {
                    request.Headers[HttpRequestHeader.UserAgent] = @"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36";
                    // request.Headers[HttpRequestHeader.UserAgent] = @"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36";
                    // request.Headers[HttpRequestHeader.UserAgent] = @"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.2; .NET CLR 1.0.3705;)";
                    // request.Proxy = HttpProxyClient.Parse(proxy);
                    request.Proxy = new WebProxy(proxy);

                    var sw = new Stopwatch();
                    sw.Start();
                    var response = request.DownloadString(testUrl).ToString();
                    sw.Stop();
                    textBox_Results.Text += proxy + "\t" + sw.ElapsedMilliseconds + Environment.NewLine;
                    label_GoodProxy.Text = (int.Parse(label_GoodProxy.Text) + 1).ToString();
                    WriteToSql(proxy, sw.ElapsedMilliseconds);
                }
                catch (Exception ex)
                {
                    if (!isClosing)
                        label_BadProxy.Text = (int.Parse(label_BadProxy.Text) + 1).ToString();
                }
            }
        }

        private void WriteToSql(string proxy, long? swElapsedMilliseconds)
        {
            var DbConnectionString = "Data Source=localhost;Initial Catalog=dbQuote2022;Integrated Security=True;Connect Timeout=150;Encrypt=false;";
            using (var conn = new SqlConnection(DbConnectionString))
            using (var cmd = conn.CreateCommand())
            {
                conn.Open();
                cmd.CommandText = $"INSERT into ProxyChecker (Proxy, Date) VALUES ('{proxy}', '{DateTime.Now.ToString("yyyy-MM-dd HH:mm")}')";
                if (swElapsedMilliseconds.HasValue)
                    cmd.CommandText = $"INSERT into ProxyChecker (Proxy, Date, Duration) VALUES ('{proxy}', '{DateTime.Now.ToString("yyyy-MM-dd HH:mm")}', {swElapsedMilliseconds})";
                cmd.ExecuteNonQuery();
            }
        }

        private void button_StartApi_Click(object sender, EventArgs e)
        {
            label_TotalProxy.Text = "0";
            label_GoodProxy.Text = "0";
            label_BadProxy.Text = "0";
            Task.Factory.StartNew(() =>
            {
                btnStartApi.Enabled = false;

                if (cbProxyScrape.Checked)
                {
                    SetProxiesFromProxyScrape();
                    cbProxyScrape.Checked = false;
                }

                if (cbProxyListDownload.Checked)
                {
                    SetProxiesFromProxyListDownload();
                    cbProxyListDownload.Checked = false;
                }

                if (cbFreeProxyList.Checked)
                {
                    SetProxiesFromFreeProxyList();
                    cbFreeProxyList.Checked = false;
                }

                if (cbVPN.Checked)
                {
                    SetProxiesFromVPN();
                    cbVPN.Checked = false;
                }

                if (cbProxyList.Checked)
                {
                    SetProxiesFromProxyList(@"E:\Quote\WebData\ProxyList.txt");
                    cbProxyList.Checked = false;
                }

                if (cbList1.Checked)
                {
                    SetProxiesFromProxyList(@"E:\Quote\WebData\ProxyLists\List1.txt");
                    cbList1.Checked = false;
                }
                if (cbList2.Checked)
                {
                    SetProxiesFromProxyList(@"E:\Quote\WebData\ProxyLists\List2.txt");
                    cbList2.Checked = false;
                }
                if (cbList3.Checked)
                {
                    SetProxiesFromProxyList(@"E:\Quote\WebData\ProxyLists\List3.txt");
                    cbList3.Checked = false;
                }
                if (cbList4.Checked)
                {
                    SetProxiesFromProxyList(@"E:\Quote\WebData\ProxyLists\List4.txt");
                    cbList4.Checked = false;
                }
                if (cbList5.Checked)
                {
                    SetProxiesFromProxyList(@"E:\Quote\WebData\ProxyLists\List5.txt");
                    cbList5.Checked = false;
                }
                if (cbList6.Checked)
                {
                    SetProxiesFromProxyList(@"E:\Quote\WebData\ProxyLists\List6.txt");
                    cbList6.Checked = false;
                }

                MessageBox.Show("Finished");
                btnStartApi.Enabled = true;
            });
        }

        private void Form1_FormClosing(object sender, FormClosingEventArgs e) => isClosing = true;

        // =========================
        public class cRoot
        {
            public cProxyItem[] LISTA;
        }
        public class cProxyItem
        {
            public string IP;
            public string PORT;
        }
    }
}
